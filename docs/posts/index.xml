<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on lmitelman.com</title>
    <link>https://lmitelman.github.io/posts/</link>
    <description>Recent content in Posts on lmitelman.com</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Tue, 20 Dec 2022 08:25:00 -0300</lastBuildDate><atom:link href="https://lmitelman.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Generics</title>
      <link>https://lmitelman.github.io/posts/generics/</link>
      <pubDate>Tue, 20 Dec 2022 08:25:00 -0300</pubDate>
      
      <guid>https://lmitelman.github.io/posts/generics/</guid>
      <description>https://shareg.pt/voKuLY5 Domain-Driven Design Quickly, Abel Avram and Floyd Marinescu (2007). </description>
      <content:encoded><![CDATA[<h2 id="httpssharegptvokuly5"><a href="https://shareg.pt/voKuLY5">https://shareg.pt/voKuLY5</a></h2>
<ul>
<li><em><a href="https://www.amazon.com/Domain-Driven-Design-Quickly-Abel-Avram/dp/1411609255">Domain-Driven Design Quickly, Abel Avram and Floyd Marinescu (2007)</a>.</em></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Entities, DTOs and Value Objects</title>
      <link>https://lmitelman.github.io/posts/dto-vs-vo/</link>
      <pubDate>Sun, 11 Dec 2022 00:15:00 -0300</pubDate>
      
      <guid>https://lmitelman.github.io/posts/dto-vs-vo/</guid>
      <description>To raise our technical standards, with my teammates we decided to go back to basics for a few weeks. Under the wings of my great colleagues Fer and Cesar, our goal was to reinforce the fundamentals of Domain Driven Design.
As you have read in the title, today we will explore two important design patterns to transfer data between different layers of an application: Entities, Data Transfer Objects and Value Objects.</description>
      <content:encoded><![CDATA[<p>To raise our technical standards, with my teammates we decided to go back to basics for a few weeks. Under the wings of my great colleagues <a href="https://github.com/hack2024">Fer</a> and <a href="https://github.com/cesar-lp">Cesar</a>, our goal was to reinforce the fundamentals of <em>Domain Driven Design</em>.</p>
<p>As you have read in the title, today we will explore two important design patterns to transfer data between different layers of an application: <strong>Entities</strong>, <strong>Data Transfer Objects</strong> and <strong>Value Objects</strong>.</p>
<blockquote>
<p><em>&ldquo;If you can’t rederive concepts from the basics as you need them, you’re lost.&rdquo;</em></p>
</blockquote>
<p><a href="https://sharegpt.com/c/x25sNIb">https://sharegpt.com/c/x25sNIb</a>
<a href="https://sharegpt.com/c/IE17oX8">https://sharegpt.com/c/IE17oX8</a></p>
<br>
<h3 id="what-is-an-entity">What is an Entity?</h3>
<h3 id="what-is-a-dto">What is a DTO?</h3>
<p>A <strong>Data Transfer Object</strong> (DTO) is a data structure that is used to represent the data of an object in an application, without having any behavior or logic associated with it.</p>
<p>For example, if a user&rsquo;s information needs to be passed from a web application&rsquo;s frontend to its backend, a User DTO could be used to represent the user&rsquo;s data in a consistent and easy-to-use format.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">User</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="kr">public</span> <span class="nx">id</span>: <span class="kt">number</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="kr">public</span> <span class="nx">firstName</span>: <span class="kt">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="kr">public</span> <span class="nx">lastName</span>: <span class="kt">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="kr">public</span> <span class="nx">email</span>: <span class="kt">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="what-is-a-value-object">What is a Value Object?</h3>
<p>On the other hand, a <strong>Value Object</strong> is a type of object that is defined by its value, rather than by its identity. Value Objects can be used in many different ways, but one common use case is to represent data that is expected to be consistent and immutable.</p>
<p><ins>When should you use it?<ins></p>
<hr>
<ul>
<li><em><a href="https://www.amazon.com/Domain-Driven-Design-Quickly-Abel-Avram/dp/1411609255">Domain-Driven Design Quickly, Abel Avram and Floyd Marinescu (2007)</a>.</em></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>Tell-Don’t-Ask</title>
      <link>https://lmitelman.github.io/posts/tell-dont-ask/</link>
      <pubDate>Sun, 08 May 2022 21:33:12 -0300</pubDate>
      
      <guid>https://lmitelman.github.io/posts/tell-dont-ask/</guid>
      <description>A few weeks ago one of the best engineers in my team, the great Fer, made a comment in a pull request:
&amp;ldquo;Remember not to break the Tell-Don&amp;rsquo;t-Ask principle.&amp;rdquo;
Let&amp;rsquo;s talk a bit about this&amp;hellip;
In object-oriented software, a typical use case is to execute logic based on an object&amp;rsquo;s internal state. For example, sounding an alarm in case our thermometer reaches a certain temperature:
class Thermometer() { private temperature: number = 0; increaseTemperature(value: number): void { this.</description>
      <content:encoded><![CDATA[<p>A few weeks ago one of the best engineers in my team, the great <a href="https://github.com/hack2024">Fer</a>, made a comment in a pull request:</p>
<blockquote>
<p><em>&ldquo;Remember not to break the Tell-Don&rsquo;t-Ask principle.&rdquo;</em></p>
</blockquote>
<p>Let&rsquo;s talk a bit about this&hellip;</p>
<p>In object-oriented software, a typical use case is to execute logic based on an object&rsquo;s internal state.
For example, sounding an alarm in case our thermometer reaches a certain temperature:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Thermometer() {</span>
</span></span><span class="line"><span class="cl">  <span class="kr">private</span> <span class="nx">temperature</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nx">increaseTemperature</span><span class="p">(</span><span class="nx">value</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">temperature</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">temperature</span> <span class="o">+</span> <span class="nx">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">askTemperature</span><span class="p">()</span><span class="o">:</span> <span class="kt">number</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">temperature</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Alarm() {</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sound</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;RIIING!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>With this &ldquo;asking&rdquo; approach, to detect the temperature and sound an alarm, we should:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">thermometer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Thermometer</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">thermometer</span><span class="p">.</span><span class="nx">increaseTemperature</span><span class="p">(</span><span class="mi">35</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">temperature</span> <span class="o">=</span> <span class="nx">thermometer</span><span class="p">.</span><span class="nx">askTemperature</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">temperature</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">alarm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Alarm</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="nx">alarm</span><span class="p">.</span><span class="nx">sound</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>If you are doing this, chances are that the logic you are implementing should be the object&rsquo;s responsibility.
It is very likely that our thermometer should be in charge of sounding the alarm in case of reaching a certain temperature.</p>
<blockquote>
<p>Procedural code gets information then makes decisions. Object-oriented code tells objects to do things.</p>
</blockquote>
<p>So, let&rsquo;s refactor our classes with a &ldquo;telling&rdquo; approach&hellip;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Thermometer() {</span>
</span></span><span class="line"><span class="cl">  <span class="kr">private</span> <span class="nx">temperature</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">private</span> <span class="nx">alarm</span>: <span class="kt">Alarm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">(</span><span class="nx">alarm</span>: <span class="kt">Alarm</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">alarm</span> <span class="o">=</span> <span class="nx">alarm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nx">increaseTemperature</span><span class="p">(</span><span class="nx">value</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">temperature</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">temperature</span> <span class="o">+</span> <span class="nx">value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">temperature</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">alarm</span><span class="p">.</span><span class="nx">sound</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Alarm() {</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sound</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;RIIING!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>Now, instead of us checking the thermometer&rsquo;s internal status to sound the alarm, we &ldquo;tell&rdquo; him to do that:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">alarm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Alarm</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">thermometer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Thermometer</span><span class="p">(</span><span class="nx">alarm</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">thermometer</span><span class="p">.</span><span class="nx">increaseTemperature</span><span class="p">(</span><span class="mi">35</span><span class="p">);</span>
</span></span></code></pre></div><p>In conclusion, it is correct to &ldquo;ask&rdquo; for the state of an object and then execute a certain logic. However, if that logic is related to the object, it may need to be moved and be the responsibility of the object itself.</p>
<hr>
<ul>
<li><em><a href="https://media.pragprog.com/articles/jan_03_enbug.pdf">The Art of Enbugging, Andy Hunt and Dave Thomas (2003)</a>.</em></li>
</ul>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
